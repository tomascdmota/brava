"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[66],{175:(e,a,n)=>{n.d(a,{Z:()=>l});var s=n(2791),i=n(8008),t=n(7689),c=n(9823),o=n(184);const l=function(e){const{activeTab:a,onTabClick:n}=e,{id:l}=(0,t.UO)(),[r,d]=(0,s.useState)(!1),p=window.innerWidth<=1e3,u=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)},a=e=>{e.changedTouches[0].clientX-e.changedTouches[e.changedTouches.length-1].clientX>50&&d(!1)};return document.addEventListener("click",e),document.addEventListener("touchend",a),()=>{document.removeEventListener("click",e),document.removeEventListener("touchend",a)}}),[]);const m=()=>{d(!r)};return(0,o.jsx)("div",{className:"header-container",children:(0,o.jsxs)("header",{className:"dashboard-header ".concat(r?"menu-open":""),children:[(0,o.jsx)("div",{className:"dashboard-header-logo",children:(0,o.jsxs)("div",{className:"dashboard-logo",children:[(0,o.jsx)("span",{className:"dashboard-logo-icon",children:(0,o.jsx)("img",{src:"https://res.cloudinary.com/dnho57ne8/image/upload/v1699913993/brava_fqk4h4.png",alt:"Logo"})}),(0,o.jsx)("h1",{className:"logo-title",children:"Brava"})]})}),(0,o.jsx)("div",{className:"dashboard-header-navigation",children:(0,o.jsxs)("div",{className:"tabs",children:[(0,o.jsx)("a",{onClick:()=>n("overview"),href:"/".concat(l,"/dashboard/overview"),className:"overview"===a?"active":"",children:"Overview"}),(0,o.jsx)("a",{onClick:()=>n("profiles"),href:"/".concat(l,"/dashboard/profiles"),className:"profiles"===a?"active":"",children:"Profiles"}),(0,o.jsx)("a",{onClick:()=>n("cards"),href:"/".concat(l,"/dashboard/cards"),className:"cards"===a?"active":"",children:"Cards"}),(0,o.jsx)("a",{onClick:()=>n("account"),href:"/".concat(l,"/dashboard/account"),className:"account"===a?"active":"",children:"Account"})]})}),(0,o.jsx)("div",{className:"dashboard-header-actions",children:(0,o.jsxs)("button",{className:"user-profile",children:[(0,o.jsx)("span",{children:e.username}),(0,o.jsx)("span",{})]})}),p&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"dashboard-header-mobile",children:(0,o.jsx)(i.Z,{onClick:m})}),(0,o.jsxs)("div",{className:"mobile-menu ".concat(r?"open":""),children:[r&&(0,o.jsx)(c.Z,{onClick:m}),(0,o.jsx)("a",{onClick:()=>n("overview"),href:"/".concat(l,"/dashboard/overview"),className:"overview"===a?"active":"",children:"Overview"}),(0,o.jsx)("a",{onClick:()=>n("profiles"),href:"/".concat(l,"/dashboard/profiles"),className:"profiles"===a?"active":"",children:"Profiles"}),(0,o.jsx)("a",{onClick:()=>n("cards"),href:"/".concat(l,"/dashboard/cards"),className:"cards"===a?"active":"",children:"Cards"}),(0,o.jsx)("a",{onClick:()=>n("account"),href:"/".concat(l,"/dashboard/account"),className:"account"===a?"active":"",children:"Account"})]})]})]})})}},5066:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var s=n(2791),i=n(7689),t=n(7604),c=n(5294),o=n(175),l=n(8329),r=n(9806),d=n(1187),p=n(184);const u=()=>{const[e,a]=(0,s.useState)(1),[n,u]=(0,s.useState)({name:"",email:"",company:"",phone:"",position:"",instagram:"",url:"",facebook:"",linkedin:"",image:"",background_image:""}),m=(0,i.s0)(),{id:h}=(0,i.UO)();(0,s.useEffect)((()=>{l.Z.get("session_token")||m("/login")}),[m]),(0,s.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("formData"));e&&u(e)}),[]);const x=e=>{const{name:a,value:n}=e.target;u((e=>({...e,[a]:n})))},v=()=>{a(e+1)},f=()=>{a(e-1)};return(0,p.jsxs)("div",{className:"createcard-container",children:[(0,p.jsx)(o.Z,{}),(0,p.jsxs)("div",{className:"msform",children:[(0,p.jsxs)("ul",{id:"progressbar",children:[(0,p.jsx)("li",{className:e>=1?"active":"",children:"Card Setup"}),(0,p.jsx)("li",{className:e>=2?"active":"",children:"Social Media"}),(0,p.jsx)("li",{className:e>=3?"active":"",children:"Profile Picture"})]}),(0,p.jsxs)("form",{id:"msform",onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("name",n.name),a.append("email",n.email),a.append("company",n.company),a.append("position",n.position),a.append("phone",n.phone),a.append("instagram",n.instagram),a.append("facebook",n.facebook),a.append("linkedin",n.linkedin),a.append("url",n.url),a.append("profilePicture",n.profilePicture),a.append("background_image",n.background_image),a.append("userId",h);try{const e=await c.Z.post("https://".concat("app.bravanfc.com",":4001/api/createcard"),a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});201===e.status||204===e.status?(localStorage.removeItem("formData"),m("/".concat(e.data.userId,"/dashboard/cards"))):console.error("Error creating card:",e.data)}catch(s){console.log("Error creating card",s)}},encType:"multipart/form-data",children:[1===e&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("h2",{className:"fs-title",children:"Personal data"}),(0,p.jsx)("h3",{className:"fs-subtitle",children:"This is step 1"}),(0,p.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:n.name,onChange:x}),(0,p.jsx)("input",{type:"text",name:"email",placeholder:"Email",value:n.email,onChange:x}),(0,p.jsx)("input",{type:"text",name:"company",placeholder:"Company (optional)",value:n.company,onChange:x}),(0,p.jsx)("input",{type:"text",name:"position",placeholder:"Position (optional)",value:n.position,onChange:x}),(0,p.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",value:n.phone,onChange:x}),(0,p.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:v})]}),2===e&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("h2",{className:"fs-title",children:"Social Profiles"}),(0,p.jsx)("h3",{className:"fs-subtitle",children:"Your presence on the social network"}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(r.G,{icon:d.Zzi,fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"instagram",placeholder:"Instagram",value:n.instagram,onChange:x})]}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(r.G,{icon:d.neY,fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"facebook",placeholder:"Facebook",value:n.facebook,onChange:x})]}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(r.G,{icon:d.D9H,fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"linkedin",placeholder:"Linkedin",value:n.linkedin,onChange:x})]}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(t.Mam,{fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"twitter",placeholder:"Url",value:n.twitter,onChange:x})]}),(0,p.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:f}),(0,p.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:v})]}),3===e&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("h2",{className:"fs-title",children:"Profile Picture"}),(0,p.jsx)("h3",{className:"fs-subtitle",children:"Upload your profile picture"}),(0,p.jsxs)("div",{className:"profile-picture-container",children:[(0,p.jsx)("input",{type:"file",name:"profilePicture",id:"profilePictureInput",accept:"image/*",onChange:e=>{const a=e.target.files[0];u((e=>({...e,profilePicture:a})))},className:"file-input"}),(0,p.jsx)("label",{htmlFor:"profilePictureInput",className:"file-label",children:"Choose an image"})]}),(0,p.jsxs)("div",{className:"profile-picture-container",children:[(0,p.jsx)("input",{type:"file",name:"background_image",id:"backgroundImageInput",accept:"image/*",onChange:e=>{const a=e.target.files[0];u((e=>({...e,background_image:a})))},className:"file-input"}),(0,p.jsx)("label",{htmlFor:"backgroundImageInput",className:"file-label",children:"Choose an image"})]}),(0,p.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:f}),(0,p.jsx)("input",{type:"submit",name:"submit",className:"submit action-button",value:"Submit"})]})]})]})]})}}}]);
//# sourceMappingURL=66.a72bc2c4.chunk.js.map