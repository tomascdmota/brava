"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[731,156],{7361:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var i=a(2791),t=a(7689),n=a(5294),l=a(8329),c=(a(175),a(3712)),o=a(8416),r=a(184);const d=function(){const{id:e}=(0,t.UO)(),[s,a]=(0,i.useState)(null),[d,p]=(0,i.useState)([]),[m,u]=(0,i.useState)(!0),[h,x]=(0,i.useState)(!1),v=(0,t.s0)();return(0,i.useEffect)((()=>{l.Z.get("session_token")||v("/login")}),[v]),(0,i.useEffect)((()=>{n.Z.get("https://".concat("app.bravanfc.com","/api/").concat(e,"/dashboard/cards"),{withCredentials:!0}).then((e=>{a(e.data),p(e.data.cards),u(!1)})).catch((e=>{console.error("Error fetching cards:",e),e.response&&400===e.response.status?(a({}),u(!1)):u(!1)})).finally((()=>{u(!1)}))}),[e,h]),null===s?(0,r.jsxs)("div",{className:"cards-container",children:[m&&(0,r.jsx)("div",{className:"spinner-container",children:(0,r.jsx)("div",{className:"spinner"})}),(0,r.jsx)("div",{className:"nav-tiles"})]}):(0,r.jsxs)("div",{className:"cards-container",children:[m&&(0,r.jsx)("div",{className:"spinner-container",children:(0,r.jsx)("div",{className:"spinner"})}),0===Object.keys(s).length?(0,r.jsx)(o.default,{setSubmissionSuccess:x}):null,(0,r.jsx)("div",{className:"nav-tiles",children:(0,r.jsx)("div",{className:"tiles",children:!m&&d.map((e=>(0,r.jsx)(c.default,{...e},e.card_id)))})})]})}},175:(e,s,a)=>{a.d(s,{Z:()=>l});var i=a(2791),t=a(7689),n=a(184);const l=function(e,s){const{activeTab:a}=e,{id:l}=(0,t.UO)(),c=(0,t.s0)(),[o,r]=(0,i.useState)(!1),d=(window.innerWidth,(0,i.useRef)(null)),p=localStorage.getItem("username"),m=localStorage.getItem("profile_image_url");return(0,i.useEffect)((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&r(!1)},s=e=>{e.changedTouches[0].clientX-e.changedTouches[e.changedTouches.length-1].clientX>50&&r(!1)};return document.addEventListener("click",e),document.addEventListener("touchend",s),()=>{document.removeEventListener("click",e),document.removeEventListener("touchend",s)}}),[]),(0,n.jsx)("div",{className:"header-container",children:(0,n.jsxs)("header",{className:"dashboard-header ".concat(o?"menu-open":""),children:[(0,n.jsx)("div",{className:"dashboard-header-logo",children:(0,n.jsx)("div",{className:"dashboard-logo"})}),(0,n.jsx)("div",{className:"dashboard-header-actions",children:(0,n.jsxs)("button",{onClick:()=>{return e="account",r(!1),void c("/".concat(l,"/dashboard/").concat(e));var e},className:"user-profile",children:[(0,n.jsx)("span",{children:p}),(0,n.jsx)("span",{children:(0,n.jsx)("img",{src:m,alt:"User Avatar"})})]})})]})})}},8416:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var i=a(2791),t=a(7689),n=a(184);var l=a(5294),c=(a(8329),a(3712));const o=e=>{let{initialValues:s,isEditing:a,cardId:o}=e;const[r,d]=(0,i.useState)(1),[p,m]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[x,v]=(0,i.useState)("Profile Image"),[f,j]=(0,i.useState)("Background Image"),[g,N]=(0,i.useState)({id:"",username:"",email:"",company:"",phone:"",position:"",instagram:"",url:"",facebook:"",linkedin:"",image:"",background_image:"",tiktok:"",spotify:"",twitter:"",paypal:"",vinted:"",notes:"",standvirtual:"",olx:"",piscapisca:"",custojusto:"",address:"",...s}),y=(0,t.s0)(),{id:b}=(0,t.UO)(),k="".concat(g.profilePicture,"-").concat(g.background_image);(0,i.useEffect)((()=>{if(s&&s.cards&&s.cards.length>0){const e=s.cards[0];N((s=>({...s,...e})))}}),[s]);const C=e=>{const{name:s,value:a}=e.target;N((e=>({...e,[s]:a})))},w=async e=>{e.preventDefault();try{const e=new FormData;for(const a in g)"profilePicture"===a||"background_image"===a?g[a]instanceof File&&e.append(a,g[a]):e.append(a,g[a]);let s,i;a?(s="put",i="https://".concat("app.bravanfc.com","/api/updatecard/").concat(b,"/").concat(o),console.log("cardid",o)):(s="post",i="https://".concat("app.bravanfc.com","/api/createcard"));const t=await(0,l.Z)({method:s,url:i,data:e,headers:{"Content-Type":"multipart/form-data"}});201===t.status&&y("/".concat(b,"/dashboard/my-card")),console.log("Response:",t.data)}catch(s){console.error("Error submitting form:",s)}};return(0,n.jsx)("div",{className:"createcard-container",children:(0,n.jsx)("div",{className:"msform",children:(0,n.jsx)("div",{className:"createcard-container",children:(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"side-navigation",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{className:r>=1?"active":"",children:"Card Setup"}),(0,n.jsx)("li",{className:r>=2?"active":"",children:"Social Media"})]})}),(0,n.jsx)("div",{className:"msform",children:(0,n.jsxs)("form",{id:"msform",onSubmit:w,encType:"multipart/form-data",children:[1===r&&(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("h2",{className:"fs-title",children:"Setup your data"}),(0,n.jsx)("p",{className:"fs-subtitle",children:"We'll guide you through the process of adding the data displayed in your card"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("label",{children:"Name"}),(0,n.jsx)("input",{type:"text",name:"username",placeholder:"Name",value:g.username,onChange:C,required:!0})]}),(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("label",{children:"Email"}),(0,n.jsx)("input",{type:"text",name:"email",placeholder:"Email",value:g.email,onChange:C,required:!0})]}),(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("label",{children:"Phone"}),(0,n.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",value:g.phone,onChange:C,required:!0})]})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("label",{children:"Company"}),(0,n.jsx)("input",{type:"text",name:"company",placeholder:"Company (optional)",value:g.company,onChange:C})]}),(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("label",{children:"Position"}),(0,n.jsx)("input",{type:"text",name:"position",placeholder:"Position (optional)",value:g.position,onChange:C})]})]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("label",{children:"Address"}),(0,n.jsx)("input",{type:"text",name:"address",placeholder:"Address",value:g.address,onChange:C})]})}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"profile-picture-container",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/upload.png?v=1713209450",alt:"Upload Icon",className:"upload-icon"}),(0,n.jsx)("input",{id:"profilePictureInput",name:"profilePicture",type:"file",onChange:e=>{return s=e.target.files[0],N((e=>({...e,profilePicture:s}))),m(URL.createObjectURL(s)),void v(s.name);var s},className:"file-input"}),(0,n.jsx)("label",{htmlFor:"profilePictureInput",className:"file-label",children:x})]}),(0,n.jsxs)("div",{className:"profile-picture-container",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/upload.png?v=1713209450",alt:"Upload Icon",className:"upload-icon"}),(0,n.jsx)("input",{id:"backgroundImageInput",name:"background_image",type:"file",onChange:e=>{return s=e.target.files[0],N((e=>({...e,background_image:s}))),h(URL.createObjectURL(s)),void j(s.name);var s},className:"file-input"}),(0,n.jsx)("label",{htmlFor:"backgroundImageInput",className:"file-label",children:f})]})]}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:()=>{d(r+1)}})})]}),2===r&&(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("h2",{className:"fs-title",children:"Social Profiles"}),(0,n.jsx)("h3",{className:"fs-subtitle",children:"Your presence on the social network"}),(0,n.jsx)("div",{className:"social-input-container-wrapper",children:(0,n.jsxs)("div",{className:"social-input-container",children:[(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-instagram.svg?v=1712083465",className:"social",alt:"Instagram"}),(0,n.jsx)("input",{type:"text",name:"instagram",placeholder:"Instagram",value:g.instagram,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-facebook.svg?v=1712083465",className:"social",alt:"Facebook"}),(0,n.jsx)("input",{type:"text",name:"facebook",placeholder:"Facebook",value:g.facebook,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-linkedin.svg?v=1712083465",className:"social",alt:"LinkedIn"}),(0,n.jsx)("input",{type:"text",name:"linkedin",placeholder:"Linkedin",value:g.linkedin,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/url.png?v=1712083467",className:"social",alt:"URL"}),(0,n.jsx)("input",{type:"text",name:"url",placeholder:"Url",value:g.url,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/tiktok.png?v=1713213933",className:"social",alt:"tiktok"}),(0,n.jsx)("input",{type:"text",name:"tiktok",placeholder:"tiktok",value:g.tiktok,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/spotify_bcf3311d-41be-49a9-8cec-d1bdc9363c4d.png?v=1713213932",className:"social",alt:"Spotify"}),(0,n.jsx)("input",{type:"text",name:"spotify",placeholder:"spotify",value:g.spotify,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/twitter.svg?v=1713213932",className:"social",alt:"Twitter"}),(0,n.jsx)("input",{type:"text",name:"twitter",placeholder:"Twitter",value:g.twitter,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/paypal.png?v=1713213933",className:"social",alt:"paypal"}),(0,n.jsx)("input",{type:"text",name:"paypal",placeholder:"paypal",value:g.paypal,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/Vinted.png?v=1713213932",className:"social",alt:"vinted",style:{width:"100px",height:"60px",marginRight:"-20px",marginLeft:"-20px"}}),(0,n.jsx)("input",{type:"text",name:"vinted",placeholder:"vinted",value:g.vinted,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/standvirtual.png?v=1713213933",className:"social",alt:"standvirtual"}),(0,n.jsx)("input",{type:"text",name:"standvirtual",placeholder:"standvirtual",value:g.standvirtual,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/olx.png?v=1713213932",className:"social",alt:"olx"}),(0,n.jsx)("input",{type:"text",name:"olx",placeholder:"olx",value:g.olx,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/piscapisca.png?v=1713213932",className:"social",alt:"piscapisca"}),(0,n.jsx)("input",{type:"text",name:"piscapisca",placeholder:"piscapisca",value:g.piscapisca,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/custojusto.png?v=1713213932",className:"social",alt:"custojusto",style:{width:"100px",height:"60px",marginRight:"-35px",marginLeft:"-20px"}}),(0,n.jsx)("input",{type:"text",name:"custojusto",placeholder:"custojusto",value:g.custojusto,onChange:C})]}),(0,n.jsxs)("div",{className:"social-input",children:[(0,n.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/notes.png?v=1713213932",className:"social",alt:"notes"}),(0,n.jsx)("input",{type:"text",name:"notes",placeholder:"notes",value:g.notes,onChange:C})]})]})}),(0,n.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:()=>{d(r-1)}}),(0,n.jsx)("input",{type:"submit",name:"submit",className:"next action-button",value:"Submit",onClick:w})]})]})}),(0,n.jsx)("div",{className:"createcard-component",children:(0,n.jsx)(c.default,{email:g.email,username:g.username,phone:g.phone,company:g.company,title:g.position,instagram:g.instagram,facebook:g.facebook,linkedin:g.linkedin,url:g.url,notes:g.notes,background_image_url:u||"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/brava_Front4-removebg-preview.png?v=1712164655",profile_image_url:p||"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/brava.jpg?v=1713204195",address:g.address,tiktok:g.tiktok,spotify:g.spotify,twitter:g.twitter,paypal:g.paypal,vinted:g.vinted,standvirtual:g.standvirtual,olx:g.olx,piscapisca:g.piscapisca,custojusto:g.custojusto,loading:!1},k)})]})})})})}}}]);
//# sourceMappingURL=731.32b41008.chunk.js.map