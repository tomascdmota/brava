"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[757,169],{7361:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var c=a(2791),n=a(7689),t=a(5294),i=a(8329),d=a(175),r=a(9939),l=a(8416),o=a(184);const h=function(){const{id:e}=(0,n.UO)(),[s,a]=(0,c.useState)(null),[h,v]=(0,c.useState)([]),[m,u]=(0,c.useState)(!0),[j,x]=(0,c.useState)(!1),g=(0,n.s0)();return(0,c.useEffect)((()=>{i.Z.get("session_token")||g("/login")}),[g]),(0,c.useEffect)((()=>{t.Z.get("https://".concat("app.bravanfc.com","/api/").concat(e,"/dashboard/cards"),{withCredentials:!0}).then((e=>{a(e.data),v(e.data.cards),u(!1)})).catch((e=>{console.error("Error fetching cards:",e),e.response&&400===e.response.status?(a({}),u(!1)):u(!1)})).finally((()=>{u(!1)}))}),[e,j]),null===s?(0,o.jsxs)("div",{className:"cards-container",children:[(0,o.jsx)(d.Z,{}),m&&(0,o.jsx)("div",{className:"spinner-container",children:(0,o.jsx)("div",{className:"spinner"})}),(0,o.jsx)("div",{className:"nav-tiles"})]}):(0,o.jsxs)("div",{className:"cards-container",children:[(0,o.jsx)(d.Z,{}),m&&(0,o.jsx)("div",{className:"spinner-container",children:(0,o.jsx)("div",{className:"spinner"})}),0===Object.keys(s).length?(0,o.jsx)(l.default,{setSubmissionSuccess:x}):null,(0,o.jsx)("div",{className:"nav-tiles",children:(0,o.jsx)("div",{className:"tiles",children:!m&&h.map((e=>(0,o.jsx)(r.default,{...e},e.card_id)))})})]})}},175:(e,s,a)=>{a.d(s,{Z:()=>r});var c=a(2791),n=a(8008),t=a(7689),i=a(9823),d=a(184);const r=function(e,s){const{activeTab:a}=e,{id:r}=(0,t.UO)(),l=(0,t.s0)(),[o,h]=(0,c.useState)(!1),v=window.innerWidth<=1e3,m=(0,c.useRef)(null),u=localStorage.getItem("username"),j=localStorage.getItem("profile_image_url");(0,c.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&h(!1)},s=e=>{e.changedTouches[0].clientX-e.changedTouches[e.changedTouches.length-1].clientX>50&&h(!1)};return document.addEventListener("click",e),document.addEventListener("touchend",s),()=>{document.removeEventListener("click",e),document.removeEventListener("touchend",s)}}),[]);const x=()=>{h(!o)};function g(e){h(!1),l("/".concat(r,"/dashboard/").concat(e))}return(0,d.jsx)("div",{className:"header-container",children:(0,d.jsxs)("header",{className:"dashboard-header ".concat(o?"menu-open":""),children:[(0,d.jsx)("div",{className:"dashboard-header-logo",children:(0,d.jsxs)("div",{className:"dashboard-logo",children:[(0,d.jsx)("span",{className:"dashboard-logo-icon",children:(0,d.jsx)("img",{src:"https://res.cloudinary.com/dnho57ne8/image/upload/v1699913993/brava_fqk4h4.png",alt:"Logo"})}),(0,d.jsx)("h1",{className:"logo-title",children:"Brava"})]})}),(0,d.jsx)("div",{className:"dashboard-header-navigation",children:(0,d.jsxs)("div",{className:"tabs",children:[(0,d.jsx)("button",{onClick:e=>g("overview"),className:"overview"===a?"active":"",children:(0,d.jsx)("a",{children:"Overview"})}),(0,d.jsx)("button",{onClick:e=>g("cards"),className:"cards"===a?"active":"",children:(0,d.jsx)("a",{children:" Cards"})}),(0,d.jsx)("button",{onClick:e=>g("account"),className:"account"===a?"active":"",children:(0,d.jsx)("a",{children:"Account"})}),(0,d.jsx)("button",{children:(0,d.jsx)("a",{href:"https://bravanfc.com",children:"Store"})})]})}),(0,d.jsx)("div",{className:"dashboard-header-actions",children:(0,d.jsxs)("button",{onClick:()=>g("account"),className:"user-profile",children:[(0,d.jsx)("span",{children:u}),(0,d.jsx)("span",{children:(0,d.jsx)("img",{src:j,alt:"User Avatar"})})]})}),v&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"dashboard-header-mobile",children:(0,d.jsx)(n.Z,{onClick:x})}),(0,d.jsxs)("div",{className:"mobile-menu ".concat(o?"open":""),children:[o&&(0,d.jsx)(i.Z,{onClick:x}),(0,d.jsx)("button",{onClick:e=>g("overview"),className:"overview"===a?"active":"",children:"Overview"}),(0,d.jsx)("button",{onClick:e=>g("cards"),className:"cards"===a?"active":"",children:"Cards"}),(0,d.jsx)("button",{onClick:e=>g("account"),className:"account"===a?"active":"",children:"Account"}),(0,d.jsx)("button",{onClick:e=>g("account"),className:"account"===a?"active":"",children:"Store"})]})]})]})})}},4570:(e,s,a)=>{a.r(s),a.d(s,{Dashboard:()=>v,default:()=>m});var c=a(2791),n=a(7689),t=a(5294),i=a(175),d=a(184);const r=function(e){let{user_id:s,contact_id:a,name:c,company:n,email:t,message:i,contact_date:r}=e;const l=window.innerWidth<=1e3;return(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"contacts",children:(0,d.jsxs)("div",{className:"contact",children:[!l&&(0,d.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/profile_2.png?v=1712073839"}),l&&(0,d.jsxs)("div",{children:[(0,d.jsx)("dt",{children:"Contact Date"}),(0,d.jsx)("dd",{children:r})]}),(0,d.jsxs)("dl",{className:"contact-details",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("dt",{children:[c,", ",n]})}),(0,d.jsx)("div",{children:(0,d.jsx)("dd",{children:t})}),!l&&(0,d.jsx)("div",{children:(0,d.jsx)("dd",{children:r})}),(0,d.jsx)("div",{className:"contact-message ".concat(l?"full-width-message":""),children:(0,d.jsx)("dt",{children:i})})]})]})})})};var l=a(8329);const o=e=>{let{contactData:s}=e;const a=window.innerWidth<=1e3,t=(0,n.s0)(),[i,o]=(0,c.useState)(0),h=s?s.length:0;return(0,c.useEffect)((()=>{s&&s.length>0&&o(s[0].user_id)}),[s]),(0,c.useEffect)((()=>{l.Z.get("session_token")||t("/login")}),[t]),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"overview",children:(0,d.jsxs)("div",{className:"overview-body",children:[(0,d.jsx)("div",{className:"overview-body-navigation"}),(0,d.jsx)("div",{className:"overview-body-main-content",children:(0,d.jsxs)("section",{className:"contact-section",children:[a&&(0,d.jsxs)("div",{className:"gen-leads",children:[(0,d.jsx)("h2",{children:"GENERATED LEADS: "}),(0,d.jsx)("div",{className:"contact-counter",children:h})]}),(0,d.jsx)("div",{className:"contact-section-header",children:(0,d.jsx)("h2",{children:"Latest Leads"})}),(0,d.jsxs)("div",{className:"contact-description",children:[(0,d.jsx)("h1",{children:"Information"}),(0,d.jsx)("h1",{children:"Email"}),(0,d.jsx)("h1",{children:"Contact Date"}),(0,d.jsx)("h1",{children:"Email"})]}),s?s.map((e=>(0,d.jsx)(r,{name:e.name,email:e.email,company:e.company,contact_date:e.contact_date,message:e.message},e.contact_id))):(0,d.jsx)("p",{children:"Loading..."})]})}),(0,d.jsx)("div",{className:"overview-body-sidebar",children:(0,d.jsxs)("section",{className:"payment-section",children:[!a&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"GENERATED LEADS: "}),(0,d.jsx)("div",{className:"contact-counter",children:h})]}),(0,d.jsx)("div",{className:"payment-section-header"})]})})]})})})};var h=a(7361);function v(e){var s,a;const{id:r}=(0,n.UO)(),[v,m]=(0,c.useState)("overview"),[u,j]=(0,c.useState)(null),x=(0,n.s0)(),g=(0,c.useRef)(!1);return(0,c.useEffect)((()=>{r&&!g.current&&(console.log("making request"),(async()=>{try{if(!l.Z.get("session_token"))return void x("/login");const a=await t.Z.get("https://".concat("app.bravanfc.com","/api/").concat(r,"/dashboard"),{withCredentials:!0});var e,s;j(a.data),console.log("Response data:",a.data),a.data&&a.data.length>0&&(localStorage.setItem("profile_image_url",null===(e=a.data[0])||void 0===e?void 0:e.profile_image_url),localStorage.setItem("username",null===(s=a.data[0])||void 0===s?void 0:s.username)),g.current=!0}catch(a){console.log("Error fetching data:",a)}})())}),[r,x]),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Z,{header_username:u?null===(s=u[0])||void 0===s?void 0:s.username:"",profile_picture:u?null===(a=u[0])||void 0===a?void 0:a.profile_image_url:"",activeTab:v,onTabClick:e=>{m(e)}}),(0,d.jsxs)("div",{className:"dashboard-body",children:["overview"===v&&(0,d.jsx)(o,{contactData:u}),"cards"===v&&(0,d.jsx)(h.default,{contactData:u})]})]})}const m=v}}]);
//# sourceMappingURL=757.d607d100.chunk.js.map