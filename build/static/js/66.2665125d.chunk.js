"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[66],{175:(e,a,s)=>{s.d(a,{Z:()=>l});var n=s(2791),i=s(8008),t=s(7689),c=s(9823),o=s(184);const l=function(e){const{activeTab:a,onTabClick:s}=e,{id:l}=(0,t.UO)(),[r,d]=(0,n.useState)(!1),p=window.innerWidth<=1e3,u=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)},a=e=>{e.changedTouches[0].clientX-e.changedTouches[e.changedTouches.length-1].clientX>50&&d(!1)};return document.addEventListener("click",e),document.addEventListener("touchend",a),()=>{document.removeEventListener("click",e),document.removeEventListener("touchend",a)}}),[]);const h=()=>{d(!r)};return(0,o.jsx)("div",{className:"header-container",children:(0,o.jsxs)("header",{className:"dashboard-header ".concat(r?"menu-open":""),children:[(0,o.jsx)("div",{className:"dashboard-header-logo",children:(0,o.jsxs)("div",{className:"dashboard-logo",children:[(0,o.jsx)("span",{className:"dashboard-logo-icon",children:(0,o.jsx)("img",{src:"https://res.cloudinary.com/dnho57ne8/image/upload/v1699913993/brava_fqk4h4.png",alt:"Logo"})}),(0,o.jsx)("h1",{className:"logo-title",children:"Brava"})]})}),(0,o.jsx)("div",{className:"dashboard-header-navigation",children:(0,o.jsxs)("div",{className:"tabs",children:[(0,o.jsx)("a",{onClick:()=>s("overview"),href:"/".concat(l,"/dashboard/overview"),className:"overview"===a?"active":"",children:"Overview"}),(0,o.jsx)("a",{onClick:()=>s("profiles"),href:"/".concat(l,"/dashboard/profiles"),className:"profiles"===a?"active":"",children:"Profiles"}),(0,o.jsx)("a",{onClick:()=>s("cards"),href:"/".concat(l,"/dashboard/cards"),className:"cards"===a?"active":"",children:"Cards"}),(0,o.jsx)("a",{onClick:()=>s("account"),href:"/".concat(l,"/dashboard/account"),className:"account"===a?"active":"",children:"Account"})]})}),(0,o.jsx)("div",{className:"dashboard-header-actions",children:(0,o.jsxs)("button",{className:"user-profile",children:[(0,o.jsx)("span",{children:e.username}),(0,o.jsx)("span",{})]})}),p&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"dashboard-header-mobile",children:(0,o.jsx)(i.Z,{onClick:h})}),(0,o.jsxs)("div",{className:"mobile-menu ".concat(r?"open":""),children:[r&&(0,o.jsx)(c.Z,{onClick:h}),(0,o.jsx)("a",{onClick:()=>s("overview"),href:"/".concat(l,"/dashboard/overview"),className:"overview"===a?"active":"",children:"Overview"}),(0,o.jsx)("a",{onClick:()=>s("profiles"),href:"/".concat(l,"/dashboard/profiles"),className:"profiles"===a?"active":"",children:"Profiles"}),(0,o.jsx)("a",{onClick:()=>s("cards"),href:"/".concat(l,"/dashboard/cards"),className:"cards"===a?"active":"",children:"Cards"}),(0,o.jsx)("a",{onClick:()=>s("account"),href:"/".concat(l,"/dashboard/account"),className:"account"===a?"active":"",children:"Account"})]})]})]})})}},5066:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var n=s(2791),i=s(7689),t=s(7604),c=s(5294),o=s(175),l=s(8329),r=s(9806),d=s(1187),p=s(184);const u=()=>{const[e,a]=(0,n.useState)(1),[s,u]=(0,n.useState)({name:"",email:"",company:"",phone:"",position:"",instagram:"",url:"",facebook:"",linkedin:"",image:"",background_image:""}),h=(0,i.s0)(),{id:m}=(0,i.UO)();(0,n.useEffect)((()=>{l.Z.get("session_token")||h("/login")}),[h]),(0,n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("formData"));e&&u(e)}),[]);const x=e=>{const{name:a,value:s}=e.target;u((e=>({...e,[a]:s})))},v=()=>{a(e+1)},f=()=>{a(e-1)};return(0,p.jsxs)("div",{className:"createcard-container",children:[(0,p.jsx)(o.Z,{}),(0,p.jsxs)("div",{className:"msform",children:[(0,p.jsxs)("ul",{id:"progressbar",children:[(0,p.jsx)("li",{className:e>=1?"active":"",children:"Card Setup"}),(0,p.jsx)("li",{className:e>=2?"active":"",children:"Social Media"}),(0,p.jsx)("li",{className:e>=3?"active":"",children:"Profile Picture"})]}),(0,p.jsxs)("form",{id:"msform",onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("name",s.name),a.append("email",s.email),a.append("company",s.company),a.append("position",s.position),a.append("phone",s.phone),a.append("instagram",s.instagram),a.append("facebook",s.facebook),a.append("linkedin",s.linkedin),a.append("url",s.url),a.append("profilePicture",s.profilePicture),a.append("background_image",s.background_image),a.append("userId",m);try{const e=await c.Z.post("https://".concat("localhost",":4001/api/createcard"),a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});201===e.status||204===e.status?(localStorage.removeItem("formData"),h("/".concat(e.data.userId,"/dashboard/cards"))):console.error("Error creating card:",e.data)}catch(n){console.log("Error creating card",n)}},encType:"multipart/form-data",children:[1===e&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("h2",{className:"fs-title",children:"Personal data"}),(0,p.jsx)("h3",{className:"fs-subtitle",children:"This is step 1"}),(0,p.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:s.name,onChange:x}),(0,p.jsx)("input",{type:"text",name:"email",placeholder:"Email",value:s.email,onChange:x}),(0,p.jsx)("input",{type:"text",name:"company",placeholder:"Company (optional)",value:s.company,onChange:x}),(0,p.jsx)("input",{type:"text",name:"position",placeholder:"Position (optional)",value:s.position,onChange:x}),(0,p.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",value:s.phone,onChange:x}),(0,p.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:v})]}),2===e&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("h2",{className:"fs-title",children:"Social Profiles"}),(0,p.jsx)("h3",{className:"fs-subtitle",children:"Your presence on the social network"}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(r.G,{icon:d.Zzi,fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"instagram",placeholder:"Instagram",value:s.instagram,onChange:x})]}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(r.G,{icon:d.neY,fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"facebook",placeholder:"Facebook",value:s.facebook,onChange:x})]}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(r.G,{icon:d.D9H,fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"linkedin",placeholder:"Linkedin",value:s.linkedin,onChange:x})]}),(0,p.jsxs)("div",{className:"social-input",children:[(0,p.jsx)(t.Mam,{fontSize:"25px"}),(0,p.jsx)("input",{type:"text",name:"twitter",placeholder:"Url",value:s.twitter,onChange:x})]}),(0,p.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:f}),(0,p.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:v})]}),3===e&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("h2",{className:"fs-title",children:"Profile Picture"}),(0,p.jsx)("h3",{className:"fs-subtitle",children:"Upload your profile picture"}),(0,p.jsxs)("div",{className:"profile-picture-container",children:[(0,p.jsx)("input",{type:"file",name:"profilePicture",id:"profilePictureInput",accept:"image/*",onChange:e=>{const a=e.target.files[0];u((e=>({...e,profilePicture:a})))},className:"file-input"}),(0,p.jsx)("label",{htmlFor:"profilePictureInput",className:"file-label",children:"Choose an image"})]}),(0,p.jsxs)("div",{className:"profile-picture-container",children:[(0,p.jsx)("input",{type:"file",name:"background_image",id:"backgroundImageInput",accept:"image/*",onChange:e=>{const a=e.target.files[0];u((e=>({...e,background_image:a})))},className:"file-input"}),(0,p.jsx)("label",{htmlFor:"backgroundImageInput",className:"file-label",children:"Choose an image"})]}),(0,p.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:f}),(0,p.jsx)("input",{type:"submit",name:"submit",className:"submit action-button",value:"Submit"})]})]})]})]})}}}]);
//# sourceMappingURL=66.2665125d.chunk.js.map