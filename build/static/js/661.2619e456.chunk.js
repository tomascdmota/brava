/*! For license information please see 661.2619e456.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[661,329],{661:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});for(var n=r(2791),s=r(7689),o=r(1087),a=r(5294),c=r(8329),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Map,u=0;u<64;u++){var d=u.toString(2),p=6-d.length;d="0".repeat(p)+d,l.set(i.charCodeAt(u),d)}function m(e){var t=function(e){for(var t="",r=0;r<e.length;r++)t+=l.get(e.charCodeAt(r));t=t.slice(0,t.length-t.length%8);for(var n=[],s=0;s<t.length/8;s++)n.push(t.slice(8*s,8*s+8));return n}(e=(e=(e=e.replaceAll("=","")).replaceAll("-","+")).replaceAll("_","/"));return t.map((function(e){return parseInt(e,2)}))}function h(e){try{if(3!==e.split(".").length||"string"!==typeof e)return null;var t=m(e.split(".")[1]),r=decodeURIComponent(function(e){for(var t,r="",n=e.length,s=0;s<n;s++)t=e[s],r+=String.fromCodePoint(t>251&&t<254&&s+5<n?1073741824*(t-252)+(e[++s]-128<<24)+(e[++s]-128<<18)+(e[++s]-128<<12)+(e[++s]-128<<6)+e[++s]-128:t>247&&t<252&&s+4<n?(t-248<<24)+(e[++s]-128<<18)+(e[++s]-128<<12)+(e[++s]-128<<6)+e[++s]-128:t>239&&t<248&&s+3<n?(t-240<<18)+(e[++s]-128<<12)+(e[++s]-128<<6)+e[++s]-128:t>223&&t<240&&s+2<n?(t-224<<12)+(e[++s]-128<<6)+e[++s]-128:t>191&&t<224&&s+1<n?(t-192<<6)+e[++s]-128:t);return r}(t));return JSON.parse(r)}catch(n){return console.error("There was an error decoding token: ",n),null}}var g=r(184);const f=()=>{const[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[l,u]=(0,n.useState)("Password"),d=(0,s.s0)();(0,n.useEffect)((()=>{const e=c.Z.get("session_token");if(e){const{userId:t}=h(e);d("/".concat(t,"/dashboard/overview"))}}),[]);const p=c.Z.get("session_token");if(p){const{userId:e}=h(p);return d("/".concat(e,"/dashboard")),null}return(0,g.jsxs)("main",{className:"login-container",children:[(0,g.jsxs)("h1",{className:"login-title",children:[(0,g.jsx)("span",{children:"BRAVA"}),",  Welcome To The Future"]}),(0,g.jsxs)("div",{className:"box",children:[(0,g.jsx)("div",{className:"form-container",children:(0,g.jsxs)("div",{className:"card",children:[(0,g.jsxs)("h1",{children:["Sign into your ",(0,g.jsx)("span",{children:"BRAVA"})," account"]}),(0,g.jsxs)("form",{className:"form",onSubmit:async e=>{e.preventDefault();const t=e.target.elements.username?e.target.username.value:"",r=e.target.elements.password?e.target.password.value:"";if(""!==t.trim()&&""!==r.trim())try{const e=await a.Z.post("https://".concat("app.bravanfc.com","/api/login"),{username:t,password:r}),{token:n}=e.data,{userId:s}=h(n),o=new Date;o.setDate(o.getDate()+30),c.Z.set("session_token",n,{expires:30}),d("/".concat(s,"/dashboard/overview"))}catch(n){console.log("Axios error",n),n.response?(409===n.response.status?console.log("um user com este email n\xe3o existe"):console.log("Erro de servidor. Tente novamente mais tarde."),(n.response.status=400)&&(alert("Wrong password. Please try again."),u("Wrong password"))):n.request?console.log("Sem resposta do servidor. Tente novamente mais tarde."):console.log("Erro na requisi\xe7\xe3o. Tente novamente mais tarde.")}else alert("Preencha todos os campos por favor")},children:[(0,g.jsx)("label",{children:"Username"}),(0,g.jsx)("input",{type:"name",placeholder:"Username",name:"username",id:"username",onChange:e=>t(e.target.value),value:e}),(0,g.jsx)("label",{children:l}),(0,g.jsx)("input",{type:"password",placeholder:"*******",name:"password",id:"password",onChange:e=>i(e.target.value),value:r}),(0,g.jsx)("button",{type:"submit",children:"LOGIN"}),(0,g.jsxs)("p",{className:"existing-users-text",children:["Don't have an account yet? ",(0,g.jsx)(o.rU,{className:"signup",to:"/signup",children:"Click me!"})]})]})]})}),(0,g.jsx)("div",{className:"image-container",children:(0,g.jsx)("img",{className:"background-image",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/pvcgreennobg.png?v=1712011483",alt:"Background"})})]})]})}},8329:(e,t,r)=>{function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:()=>s});var s=function e(t,r){function s(e,s,o){if("undefined"!==typeof document){"number"===typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},s=0;s<r.length;s++){var o=r[s].split("="),a=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(n[c]=t.read(a,c),e===c)break}catch(i){}}return e?n[e]:n}},remove:function(e,t){s(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=661.2619e456.chunk.js.map