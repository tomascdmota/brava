"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[135],{3712:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var o=a(2791),l=(a(5892),a(2057)),t=a(184);const i=function(e){let{isOpen:s,onClose:a,id:o,card_id:i}=e;return(0,t.jsx)(t.Fragment,{children:s&&(0,t.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,t.jsx)("div",{className:"qr-modal-content",children:(0,t.jsx)("div",{className:"qr-code-container",children:(0,t.jsx)(l.ZP,{value:"https://app.bravanfc.com/".concat(o,"/cards/").concat(i),size:256})})})})})};var n=a(830),c=a.n(n),r=a(9073),d=a(8152),p=a.n(d);const h=e=>{let{isOpen:s,closeModal:a,notes:o,background_image:l,loading:i,profile_image_url:n}=e;return(0,t.jsx)(t.Fragment,{children:s&&(0,t.jsxs)("div",{className:"note-modal",children:[(0,t.jsx)("div",{className:"note-modal-background",onClick:a}),(0,t.jsxs)("div",{className:"note-modal-content",children:[(0,t.jsx)("button",{className:"modal-close",onClick:a,children:"X"})," ",(0,t.jsx)("div",{className:"note-card-component-header",children:i?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("img",{className:"note-card-image",rel:"preload",loading:"lazy",src:n||"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/brava.jpg?v=1713204195",alt:"Profile"})})}),(0,t.jsxs)("div",{className:"note-box",children:[(0,t.jsx)("img",{src:l}),(0,t.jsx)("h1",{children:"Extra Information"}),(0,t.jsx)("p",{children:o})]})]})]})})};var m=a(7689),g=a(5294);const f=e=>{let{isOpen:s,onClose:a}=e;const[l,i]=(0,o.useState)({name:"",company:"",sector:"",phone:"",email:"",message:""}),{id:n}=(0,m.UO)(),c=e=>{const{name:s,value:a,type:o,checked:l}=e.target,t="checkbox"===o?l:a;i((e=>({...e,[s]:t})))};return(0,t.jsx)(t.Fragment,{children:s&&(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("h2",{className:"modal-title",children:"Exchange Contact"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s={...l,terms:e.target.terms.checked};g.Z.post("https://".concat("bravanfc.com","/api/").concat(n,"/message"),s).then((e=>{console.log("Response Headers:",e.headers),200===e.status&&(alert("Message sent successfully"),i({name:"",company:"",sector:"",phone:"",email:"",message:"",terms:!1}))})).catch((e=>{console.log(e.response.status),console.log(e)})),console.log("Form submitted:",l),a()},children:[(0,t.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"",value:l.name,onChange:c,required:!0}),(0,t.jsx)("label",{htmlFor:"phone",children:"Phone:"}),(0,t.jsx)("input",{type:"phone",id:"phone",name:"phone",placeholder:"",value:l.phone,onChange:c,required:!0}),(0,t.jsx)("label",{htmlFor:"sector",children:"Sector:"}),(0,t.jsx)("input",{type:"sector",id:"sector",name:"sector",placeholder:"",value:l.sector,onChange:c,required:!0}),(0,t.jsx)("label",{htmlFor:"company",children:"Company:"}),(0,t.jsx)("input",{type:"text",id:"company",name:"company",placeholder:"",value:l.company,onChange:c,required:!0}),(0,t.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"",value:l.email,onChange:c,required:!0}),(0,t.jsx)("label",{htmlFor:"message",children:"Message:"}),(0,t.jsx)("textarea",{id:"message",name:"message",placeholder:"What would you like to say?",value:l.message,onChange:c,required:!0}),(0,t.jsxs)("div",{className:"terms-container",children:[(0,t.jsx)("input",{type:"checkbox",id:"terms",name:"terms",required:!0}),(0,t.jsxs)("label",{htmlFor:"terms",children:["I agree to the ",(0,t.jsx)("a",{href:"/terms-and-conditions",target:"_blank",rel:"noopener noreferrer",children:"terms and conditions"})]})]}),(0,t.jsx)("button",{className:"submit-button",type:"submit",children:"Submit"}),(0,t.jsx)("button",{className:"close-button",onClick:a,children:"X"})]})]})})})},u=a.p+"static/media/googlereview.a0998f3f7fc14a058324.png";const x=function(e){let{card_id:s,id:a,email:n,username:d,phone:m,company:x,title:y,profile_image_url:j,background_image_url:b,onLoad:v,facebook:k,linkedin:w,instagram:C,google_reviews:N,address:I,youtube:z,notes:E,url:R,paypal:S,tiktok:_,twitter:F,spotify:O,vinted:T,standvirtual:U,olx:q,piscapisca:L,custojusto:P,linkId:B}=e;const[A,D]=(0,o.useState)(null),[M,V]=(0,o.useState)(!0),[X,Z]=(0,o.useState)(!1),[G,Y]=(0,o.useState)(!1),[H,J]=(0,o.useState)(!1);let W;const[K,Q]=(0,o.useState)({google_reviews:0,instagram:0,facebook:0,linkedin:0,youtube:0,paypal:0,twitter:0,tiktok:0,spotify:0,vinted:0,notes:0,address:0,standvirtual:0,olx:0,piscapisca:0,custojusto:0,url:0});(0,o.useEffect)((()=>{let e=!0;return(async()=>{const s=await ee();if(e)if(s){const e=new Blob([s],{type:"image/jpg"});D(e),V(!1)}else se()})(),()=>{e=!1,A&&URL.revokeObjectURL(A)}}),[j]);const $=async()=>{try{return await(0,r.X3)("brava-db",1,{upgrade(e){if(!e.objectStoreNames.contains("images")){e.createObjectStore("images",{keyPath:"key"}).createIndex("url","url",{unique:!0})}}})}catch(e){throw console.error("Error initializing IndexedDB:",e),e}},ee=async()=>{try{const e=await $(),s=e.transaction("images").objectStore("images"),a=await s.get("profileImage");return a?a.data:null}catch(e){return console.error("Error loading from IndexedDB:",e),null}},se=async()=>{try{const e=j,s=await fetch(e);if(!s.ok)throw new Error("Network response was not ok");const a=await s.blob();(async e=>{try{const s=(await $()).transaction("images","readwrite"),a=s.objectStore("images"),o={key:"profileImage",url:j,data:e};a.put(o),await s.complete,console.log("Image stored in IndexedDB:",o)}catch(s){console.error("Error storing image in IndexedDB:",s)}})(a),D(a),V(!1),v&&v()}catch(e){console.error("Error fetching image:",e)}},ae=e=>{const s={...K,[e]:K[e]+1};Q(s),g.Z.post("https://".concat("bravanfc.com","/api/").concat(B,"/leads"),s).then((e=>{console.log(e)})).catch((e=>{console.error("Error sending click counts:",e)}))};return(0,t.jsxs)("div",{className:"card-component ".concat(M?"loading":""),children:[(0,t.jsx)("div",{className:"card-background",fetchpriority:"high",style:{backgroundImage:"url(".concat(b||"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/brava_Front4-removebg-preview.png?v=1712164655",")")}}),(0,t.jsx)("div",{className:"card-component-header",children:M?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("img",{className:"card-image",rel:"preload",loading:"lazy",fetchpriority:"high",src:j||"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/brava.jpg?v=1713204195",alt:"Profile"})})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{children:d}),(0,t.jsx)("h3",{children:(0,t.jsx)("span",{children:x})}),(0,t.jsx)("p",{children:y}),(0,t.jsxs)("div",{className:"card-buttons",children:[(0,t.jsx)("button",{onClick:async()=>{try{const o=new(c()),l=await ee();if(!l)return void console.error("Image not found in IndexedDB.");const t=await(e=l,new Promise(((s,a)=>{const o=new FileReader;o.onloadend=()=>{s(o.result)},o.onerror=()=>{a(new Error("Failed to read blob as Base64."))},o.readAsDataURL(e)})));console.log("Base64 Image:",t);const i=e=>p().nfkd(e).replace(/[\u0300-\u036f]/g,""),r=i(decodeURIComponent(d)),h=i(decodeURIComponent(y)),g=i(decodeURIComponent(E)),f=i(decodeURIComponent(I));if(o.add("n",[r]),o.add("fn",[r]),o.add("org",x),o.add("tel",m),o.add("email",n),o.add("title",[h]),o.add("url","https://app.bravanfc.com/".concat(a,"/cards/").concat(s)),t){const e=t.split(",")[1];o.add("photo",";ENCODING=BASE64;TYPE=JPEG:".concat(e))}k&&o.add("x-socialprofile",k,{type:"Facebook"}),C&&o.add("x-socialprofile",C,{type:"Instagram"}),w&&o.add("x-socialprofile",w,{type:"Linkedin"}),z&&o.add("x-socialprofile",z,{type:"Youtube"}),E&&o.add("note",[g]),F&&o.add("x-socialprofile",F,{type:"Twitter"}),S&&o.add("x-socialprofile",S,{type:"Paypal"}),_&&o.add("x-socialprofile",_,{type:"TikTok"}),O&&o.add("x-socialprofile",O,{type:"Spotify"}),T&&o.add("x-socialprofile",T,{type:"Vinted"}),q&&o.add("x-socialprofile",q,{type:"Olx"}),U&&o.add("x-socialprofile",U,{type:"standvirtual"}),L&&o.add("x-socialprofile",L,{type:"piscapisca"}),P&&o.add("x-socialprofile",P,{type:"custojusto"}),o.add("adr",[f]);const u=o.toString("3.0");console.log(u);const j=new Blob([(new TextEncoder).encode(u)],{type:"text/vcard;charset=utf-8"});window.location.href=URL.createObjectURL(j),URL.revokeObjectURL(j)}catch(o){console.error("Error saving to contacts:",o)}var e},children:"SAVE CONTACT"}),(0,t.jsx)("button",{className:"fab",onClick:()=>{try{Z(!0)}catch(e){console.error("Error opening modal:",e)}},children:"EXCHANGE CONTACT"})]}),(0,t.jsx)("div",{className:"social-icons-container",children:(0,t.jsxs)("div",{className:"social-icons",children:[(0,t.jsx)("div",{className:"qr-code-container",onClick:()=>{Y(!0)},children:(0,t.jsx)(l.ZP,{value:"https://app.bravanfc.com/".concat(a,"/cards/").concat(s),style:{height:"55px",width:"55px",borderRadius:"10px"}})}),R&&(0,t.jsx)("a",{href:R,onClick:()=>ae("url"),children:(0,t.jsx)("img",{rel:"preload",className:"url",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/url.png?v=1712083467",alt:"Url",focusable:!0})}),N&&(0,t.jsx)("a",{href:N,onClick:()=>ae("google_reviews"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:u,alt:"Instagram",focusable:!0})}),C&&(0,t.jsx)("a",{href:C,onClick:()=>ae("instagram"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-instagram.svg?v=1712083465",alt:"Instagram",focusable:!0})}),k&&(0,t.jsx)("a",{href:k,onClick:()=>ae("facebook"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-facebook.svg?v=1712083465",alt:"Facebook",focusable:!0})}),w&&(0,t.jsx)("a",{href:w,onClick:()=>ae("linkedin"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-linkedin.svg?v=1712083465",alt:"LinkedIn",focusable:!0})}),z&&(0,t.jsx)("a",{href:z,onClick:()=>ae("youtube"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-youtube.svg?v=1712083465",alt:"YouTube",focusable:!0})}),S&&(0,t.jsx)("a",{href:S,onClick:()=>ae("paypal"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-paypal.svg?v=1712083465",alt:"Paypal",focusable:!0})}),F&&(0,t.jsx)("a",{href:F,onClick:()=>ae("twitter"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-twitterx.svg?v=1712083465",alt:"Twitter",focusable:!0})}),_&&(0,t.jsx)("a",{href:_,onClick:()=>ae("tiktok"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/tiktok.png?v=1713213933",alt:"TikTok",focusable:!0,style:{height:"80px",width:"80px"}})}),O&&(0,t.jsx)("a",{href:O,onClick:()=>ae("spotify"),children:(0,t.jsx)("img",{rel:"preload",className:"spotify",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/spotify.png?v=1712083467",alt:"Spotify",focusable:!0})}),T&&(0,t.jsx)("a",{href:T,onClick:()=>ae("vinted"),children:(0,t.jsx)("img",{rel:"preload",className:"spotify",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/vinted.jpg?v=1712083466",alt:"Vinted",focusable:!0,style:{borderRadius:"20px"}})}),E&&(0,t.jsx)("a",{onClick:()=>{ae("notes"),J(!0)},children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",style:{height:"60px"},src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/notes.png?v=1713213932",alt:"Notes",focusable:!0})}),I&&(0,t.jsx)("a",{href:W,onClick:()=>{ae("address"),W="https://www.google.com/maps/search/?api=1&query=".concat(I),window.open(W,"_blank")},children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-google-maps-old.svg?v=1712083465",alt:"Maps",focusable:!0})}),U&&(0,t.jsx)("a",{href:U,onClick:()=>ae("standvirtual"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/standvirtual.png?v=1713213933",style:{height:"60px",borderRadius:"10px"},alt:"standvirtual",focusable:!0})}),q&&(0,t.jsx)("a",{href:q,onClick:()=>ae("olx"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/olx.png?v=1713213932",alt:"olx",focusable:!0,style:{height:"60px",borderRadius:"10px"}})}),L&&(0,t.jsx)("a",{href:L,onClick:()=>ae("piscapisca"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/piscapisca.png?v=1713213932",alt:"piscapisca",focusable:!0,style:{height:"60px",borderRadius:"10px"}})}),P&&(0,t.jsx)("a",{href:P,onClick:()=>ae("custojusto"),children:(0,t.jsx)("img",{rel:"preload",loading:"lazy",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/custojusto.png?v=1713213932",alt:"custojusto",focusable:!0,style:{height:"60px",borderRadius:"10px"}})})]})})]}),(0,t.jsxs)("p",{style:{color:"white"},children:["Powered by ",(0,t.jsx)("a",{style:{color:"white"},href:"https://bravanfc.com",target:"_blank",children:"BRAVA"})]}),(0,t.jsx)(f,{isOpen:X,onClose:()=>{Z(!1)}}),(0,t.jsx)(h,{isOpen:H,background_image:b,profile_image_url:j,closeModal:()=>{J(!1)},notes:E}),(0,t.jsx)(i,{isOpen:G,onClose:()=>{Y(!1)},id:a,card_id:String(s)})]})}}}]);
//# sourceMappingURL=135.25c2016c.chunk.js.map