/*! For license information please see 661.93288f9e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[661],{661:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});for(var r=n(2791),s=n(7689),o=n(1087),a=n(5294),c=n(8329),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Map,u=0;u<64;u++){var d=u.toString(2),p=6-d.length;d="0".repeat(p)+d,l.set(i.charCodeAt(u),d)}function m(e){var t=function(e){for(var t="",n=0;n<e.length;n++)t+=l.get(e.charCodeAt(n));t=t.slice(0,t.length-t.length%8);for(var r=[],s=0;s<t.length/8;s++)r.push(t.slice(8*s,8*s+8));return r}(e=(e=(e=e.replaceAll("=","")).replaceAll("-","+")).replaceAll("_","/"));return t.map((function(e){return parseInt(e,2)}))}function h(e){try{if(3!==e.split(".").length||"string"!==typeof e)return null;var t=m(e.split(".")[1]),n=decodeURIComponent(function(e){for(var t,n="",r=e.length,s=0;s<r;s++)t=e[s],n+=String.fromCodePoint(t>251&&t<254&&s+5<r?1073741824*(t-252)+(e[++s]-128<<24)+(e[++s]-128<<18)+(e[++s]-128<<12)+(e[++s]-128<<6)+e[++s]-128:t>247&&t<252&&s+4<r?(t-248<<24)+(e[++s]-128<<18)+(e[++s]-128<<12)+(e[++s]-128<<6)+e[++s]-128:t>239&&t<248&&s+3<r?(t-240<<18)+(e[++s]-128<<12)+(e[++s]-128<<6)+e[++s]-128:t>223&&t<240&&s+2<r?(t-224<<12)+(e[++s]-128<<6)+e[++s]-128:t>191&&t<224&&s+1<r?(t-192<<6)+e[++s]-128:t);return n}(t));return JSON.parse(n)}catch(r){return console.error("There was an error decoding token: ",r),null}}var g=n(184);const f=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[l,u]=(0,r.useState)("Password"),d=(0,s.s0)();(0,r.useEffect)((()=>{const e=c.Z.get("session_token");if(e){const{userId:t}=h(e);d("/".concat(t,"/dashboard"))}}),[]);const p=c.Z.get("session_token");if(p){const{userId:e}=h(p);return d("/".concat(e,"/dashboard")),null}return(0,g.jsxs)("main",{className:"login-container",children:[(0,g.jsxs)("h1",{className:"login-title",children:[(0,g.jsx)("span",{children:"BRAVA"}),",  Welcome To The Future"]}),(0,g.jsxs)("div",{className:"box",children:[(0,g.jsx)("div",{className:"form-container",children:(0,g.jsxs)("div",{className:"card",children:[(0,g.jsxs)("h1",{children:["Sign into your ",(0,g.jsx)("span",{children:"BRAVA"})," account"]}),(0,g.jsxs)("form",{className:"form",onSubmit:async e=>{e.preventDefault();const t=e.target.elements.username?e.target.username.value:"",n=e.target.elements.password?e.target.password.value:"";if(""!==t.trim()&&""!==n.trim())try{const e=await a.Z.post("https://".concat("app.bravanfc.com","/api/login"),{username:t,password:n}),{token:r}=e.data,{userId:s}=h(r),o=new Date;o.setDate(o.getDate()+30),c.Z.set("session_token",r,{expires:30}),d("/".concat(s,"/dashboard/overview"))}catch(r){console.log("Axios error",r),r.response?(409===r.response.status?console.log("um user com este email n\xe3o existe"):console.log("Erro de servidor. Tente novamente mais tarde."),(r.response.status=400)&&(alert("Wrong password. Please try again."),u("Wrong password"))):r.request?console.log("Sem resposta do servidor. Tente novamente mais tarde."):console.log("Erro na requisi\xe7\xe3o. Tente novamente mais tarde.")}else alert("Preencha todos os campos por favor")},children:[(0,g.jsx)("label",{children:"Username"}),(0,g.jsx)("input",{type:"name",placeholder:"Username",name:"username",id:"username",onChange:e=>t(e.target.value),value:e}),(0,g.jsx)("label",{children:l}),(0,g.jsx)("input",{type:"password",placeholder:"*******",name:"password",id:"password",onChange:e=>i(e.target.value),value:n}),(0,g.jsx)("button",{type:"submit",children:"LOGIN"}),(0,g.jsxs)("p",{className:"existing-users-text",children:["Don't have an account yet? ",(0,g.jsx)(o.rU,{className:"signup",to:"/signup",children:"Click me!"})]})]})]})}),(0,g.jsx)("div",{className:"image-container",children:(0,g.jsx)("img",{className:"background-image",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/pvcgreennobg.png?v=1712011483",alt:"Background"})})]})]})}},8329:(e,t,n)=>{function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:()=>s});var s=function e(t,n){function s(e,s,o){if("undefined"!==typeof document){"number"===typeof(o=r({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},s=0;s<n.length;s++){var o=n[s].split("="),a=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(r[c]=t.read(a,c),e===c)break}catch(i){}}return e?r[e]:r}},remove:function(e,t){s(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=661.93288f9e.chunk.js.map