/*! For license information please see 661.383eb244.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[661],{661:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});for(var r=n(2791),o=n(7689),s=n(1087),a=n(5294),i=n(8329),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Map,u=0;u<64;u++){var d=u.toString(2),p=6-d.length;d="0".repeat(p)+d,l.set(c.charCodeAt(u),d)}function m(e){var t=function(e){for(var t="",n=0;n<e.length;n++)t+=l.get(e.charCodeAt(n));t=t.slice(0,t.length-t.length%8);for(var r=[],o=0;o<t.length/8;o++)r.push(t.slice(8*o,8*o+8));return r}(e=(e=(e=e.replaceAll("=","")).replaceAll("-","+")).replaceAll("_","/"));return t.map((function(e){return parseInt(e,2)}))}function h(e){try{if(3!==e.split(".").length||"string"!==typeof e)return null;var t=m(e.split(".")[1]),n=decodeURIComponent(function(e){for(var t,n="",r=e.length,o=0;o<r;o++)t=e[o],n+=String.fromCodePoint(t>251&&t<254&&o+5<r?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<r?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<r?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<r?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<r?(t-192<<6)+e[++o]-128:t);return n}(t));return JSON.parse(n)}catch(r){return console.error("There was an error decoding token: ",r),null}}var f=n(184);const g=()=>{const[e,t]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),l=(0,o.s0)();(0,r.useEffect)((()=>{const e=i.Z.get("session_token");if(e){const{userId:t}=h(e);l("/".concat(t,"/dashboard"))}}),[]);const u=i.Z.get("session_token");if(u){const{userId:e}=h(u);return l("/".concat(e,"/dashboard")),null}return(0,f.jsxs)("main",{className:"login-container",children:[(0,f.jsxs)("h1",{className:"login-title",children:[(0,f.jsx)("span",{children:"BRAVA"}),",  Welcome To The Future"]}),(0,f.jsxs)("div",{className:"box",children:[(0,f.jsx)("div",{className:"form-container",children:(0,f.jsxs)("div",{className:"card",children:[(0,f.jsxs)("h1",{children:["Sign into your ",(0,f.jsx)("span",{children:"BRAVA"})," account"]}),(0,f.jsxs)("form",{className:"form",onSubmit:async e=>{e.preventDefault();const t=e.target.elements.email?e.target.email.value:"",n=e.target.elements.password?e.target.password.value:"";if(""!==t.trim()&&""!==n.trim())try{const e=await a.Z.post("https://".concat("app.bravanfc.com","/api/login"),{email:t,password:n}),{token:r}=e.data,{userId:o}=h(r),s=new Date;s.setDate(s.getDate()+30),i.Z.set("session_token",r,{expires:30}),l("/".concat(o,"/dashboard"))}catch(r){console.log("Axios error",r),r.response?409===r.response.status?console.log("um user com este email n\xe3o existe"):console.log("Erro de servidor. Tente novamente mais tarde."):r.request?console.log("Sem resposta do servidor. Tente novamente mais tarde."):console.log("Erro na requisi\xe7\xe3o. Tente novamente mais tarde.")}else alert("Preencha todos os campos por favor")},children:[(0,f.jsx)("label",{children:"Email Address"}),(0,f.jsx)("input",{type:"email",placeholder:"example@bravanfc.com",name:"email",id:"email",onChange:e=>t(e.target.value),value:e}),(0,f.jsx)("label",{children:"Password"}),(0,f.jsx)("input",{type:"password",placeholder:"*******",name:"password",id:"password",onChange:e=>c(e.target.value),value:n}),(0,f.jsx)("button",{type:"submit",children:"SIGN UP"}),(0,f.jsxs)("p",{className:"existing-users-text",children:["Don't have an account yet? ",(0,f.jsx)(s.rU,{className:"signup",to:"/signup",children:"Click me!"})]})]})]})}),(0,f.jsx)("div",{className:"image-container",children:(0,f.jsx)("img",{className:"background-image",src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/pvcgreennobg.png?v=1712011483",alt:"Background"})})]})]})}},8329:(e,t,n)=>{function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:()=>o});var o=function e(t,n){function o(e,o,s){if("undefined"!==typeof document){"number"===typeof(s=r({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in s)s[i]&&(a+="; "+i,!0!==s[i]&&(a+="="+s[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var s=n[o].split("="),a=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(r[i]=t.read(a,i),e===i)break}catch(c){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=661.383eb244.chunk.js.map