"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[761,106,812],{7361:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var n=s(2791),c=s(7689),t=s(5294),i=s(8329),l=s(175),r=s(59),o=s(3342),d=s(184);const m=function(){const{id:e}=(0,c.UO)(),[a,s]=(0,n.useState)(null),[m,u]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0),[v,x]=(0,n.useState)(!1),j=(0,c.s0)();return(0,n.useEffect)((()=>{i.Z.get("session_token")||j("/login")}),[j]),(0,n.useEffect)((()=>{t.Z.get("https://".concat("app.bravanfc.com","/api/").concat(e,"/dashboard/cards"),{withCredentials:!0}).then((e=>{s(e.data),u(e.data.cards),p(!1)})).catch((e=>{console.error("Error fetching cards:",e),e.response&&400===e.response.status?(s({}),p(!1)):p(!1)})).finally((()=>{p(!1)}))}),[e,v]),null===a?(0,d.jsxs)("div",{className:"cards-container",children:[(0,d.jsx)(l.Z,{}),h&&(0,d.jsx)("div",{className:"spinner-container",children:(0,d.jsx)("div",{className:"spinner"})}),(0,d.jsx)("div",{className:"nav-tiles"})]}):(0,d.jsxs)("div",{className:"cards-container",children:[(0,d.jsx)(l.Z,{}),h&&(0,d.jsx)("div",{className:"spinner-container",children:(0,d.jsx)("div",{className:"spinner"})}),0===Object.keys(a).length?(0,d.jsx)(o.default,{setSubmissionSuccess:x}):null,(0,d.jsx)("div",{className:"nav-tiles",children:(0,d.jsx)("div",{className:"tiles",children:!h&&m.map((e=>(0,d.jsx)(r.default,{...e},e.card_id)))})})]})}},175:(e,a,s)=>{s.d(a,{Z:()=>r});var n=s(2791),c=s(8008),t=s(7689),i=s(9823),l=s(184);const r=function(e,a){const{activeTab:s}=e,{id:r}=(0,t.UO)(),o=(0,t.s0)(),[d,m]=(0,n.useState)(!1),u=window.innerWidth<=1e3,h=(0,n.useRef)(null),p=localStorage.getItem("username"),v=localStorage.getItem("profile_image_url");(0,n.useEffect)((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&m(!1)},a=e=>{e.changedTouches[0].clientX-e.changedTouches[e.changedTouches.length-1].clientX>50&&m(!1)};return document.addEventListener("click",e),document.addEventListener("touchend",a),()=>{document.removeEventListener("click",e),document.removeEventListener("touchend",a)}}),[]);const x=()=>{m(!d)};function j(e){m(!1),o("/".concat(r,"/dashboard/").concat(e))}return(0,l.jsx)("div",{className:"header-container",children:(0,l.jsxs)("header",{className:"dashboard-header ".concat(d?"menu-open":""),children:[(0,l.jsx)("div",{className:"dashboard-header-logo",children:(0,l.jsxs)("div",{className:"dashboard-logo",children:[(0,l.jsx)("span",{className:"dashboard-logo-icon",children:(0,l.jsx)("img",{src:"https://res.cloudinary.com/dnho57ne8/image/upload/v1699913993/brava_fqk4h4.png",alt:"Logo"})}),(0,l.jsx)("h1",{className:"logo-title",children:"Brava"})]})}),(0,l.jsx)("div",{className:"dashboard-header-navigation",children:(0,l.jsxs)("div",{className:"tabs",children:[(0,l.jsx)("button",{onClick:e=>j("overview"),className:"overview"===s?"active":"",children:(0,l.jsx)("a",{children:"Overview"})}),(0,l.jsx)("button",{onClick:e=>j("cards"),className:"cards"===s?"active":"",children:(0,l.jsx)("a",{children:" Cards"})}),(0,l.jsx)("button",{onClick:e=>j("account"),className:"account"===s?"active":"",children:(0,l.jsx)("a",{children:"Account"})}),(0,l.jsx)("button",{children:(0,l.jsx)("a",{href:"https://bravanfc.com",children:"Store"})})]})}),(0,l.jsx)("div",{className:"dashboard-header-actions",children:(0,l.jsxs)("button",{onClick:()=>j("account"),className:"user-profile",children:[(0,l.jsx)("span",{children:p}),(0,l.jsx)("span",{children:(0,l.jsx)("img",{src:v,alt:"User Avatar"})})]})}),u&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"dashboard-header-mobile",children:(0,l.jsx)(c.Z,{onClick:x})}),(0,l.jsxs)("div",{className:"mobile-menu ".concat(d?"open":""),children:[d&&(0,l.jsx)(i.Z,{onClick:x}),(0,l.jsx)("button",{onClick:e=>j("overview"),className:"overview"===s?"active":"",children:"Overview"}),(0,l.jsx)("button",{onClick:e=>j("cards"),className:"cards"===s?"active":"",children:"Cards"}),(0,l.jsx)("button",{onClick:e=>j("account"),className:"account"===s?"active":"",children:"Account"}),(0,l.jsx)("button",{onClick:e=>j("account"),className:"account"===s?"active":"",children:"Store"})]})]})]})})}},3342:(e,a,s)=>{s.r(a),s.d(a,{default:()=>r});var n=s(2791),c=s(7689),t=s(5294),i=s(8329),l=(s(9806),s(184));const r=e=>{let{setSubmissionSuccess:a}=e;const[s,r]=(0,n.useState)(1),[o,d]=(0,n.useState)("Profile Picture"),[m,u]=(0,n.useState)("Background Image"),[h,p]=(0,n.useState)({name:"",email:"",company:"",phone:"",position:"",instagram:"",url:"",facebook:"",linkedin:"",image:"",background_image:""}),v=(0,c.s0)(),{id:x}=(0,c.UO)();(0,n.useEffect)((()=>{i.Z.get("session_token")||v("/login")}),[v]),(0,n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("formData"));e&&p(e)}),[]);const j=e=>{const{name:a,value:s}=e.target;p((e=>({...e,[a]:s})))},g=()=>{r(s+1)},f=()=>{r(s-1)};return(0,l.jsx)("div",{className:"createcard-container",children:(0,l.jsxs)("div",{className:"msform",children:[(0,l.jsxs)("ul",{id:"progressbar",children:[(0,l.jsx)("li",{className:s>=1?"active":"",children:"Card Setup"}),(0,l.jsx)("li",{className:s>=2?"active":"",children:"Social Media"}),(0,l.jsx)("li",{className:s>=3?"active":"",children:"Profile Picture"})]}),(0,l.jsxs)("form",{id:"msform",onSubmit:async e=>{e.preventDefault();const s=new FormData;s.append("name",h.name),s.append("email",h.email),s.append("company",h.company),s.append("position",h.position),s.append("phone",h.phone),s.append("instagram",h.instagram),s.append("facebook",h.facebook),s.append("linkedin",h.linkedin),s.append("url",h.url),s.append("profilePicture",h.profilePicture),s.append("background_image",h.background_image),s.append("userId",x);try{const e=await t.Z.post("https://".concat("app.bravanfc.com","/api/createcard"),s,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});201===e.status||204===e.status?(localStorage.removeItem("formData"),v("/".concat(e.data.userId,"/dashboard/cards")),a(!0)):(console.error("Error creating card:",e.data),alert("Error creating card"))}catch(n){console.log("Error creating card",n),alert("There was an error creating your card",n)}},encType:"multipart/form-data",children:[1===s&&(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("h2",{className:"fs-title",children:"Personal data"}),(0,l.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:h.name,onChange:j,required:!0}),(0,l.jsx)("input",{type:"text",name:"email",placeholder:"Email",value:h.email,onChange:j,required:!0}),(0,l.jsx)("input",{type:"text",name:"company",placeholder:"Company (optional)",value:h.company,onChange:j}),(0,l.jsx)("input",{type:"text",name:"position",placeholder:"Position (optional)",value:h.position,onChange:j}),(0,l.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",value:h.phone,onChange:j,required:!0}),(0,l.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:g})]}),2===s&&(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("h2",{className:"fs-title",children:"Social Profiles"}),(0,l.jsx)("h3",{className:"fs-subtitle",children:"Your presence on the social network"}),(0,l.jsxs)("div",{className:"social-input-container",children:[(0,l.jsxs)("div",{className:"social-input",children:[(0,l.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-instagram.svg?v=1712083465",className:"social"}),(0,l.jsx)("input",{type:"text",name:"instagram",placeholder:"Instagram",value:h.instagram,onChange:j})]}),(0,l.jsxs)("div",{className:"social-input",children:[(0,l.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-facebook.svg?v=1712083465",className:"social"}),(0,l.jsx)("input",{type:"text",name:"facebook",placeholder:"Facebook",value:h.facebook,onChange:j})]}),(0,l.jsxs)("div",{className:"social-input",children:[(0,l.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/icons8-linkedin.svg?v=1712083465",className:"social"}),(0,l.jsx)("input",{type:"text",name:"linkedin",placeholder:"Linkedin",value:h.linkedin,onChange:j})]}),(0,l.jsxs)("div",{className:"social-input",children:[(0,l.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/url.png?v=1712083467",className:"social"}),(0,l.jsx)("input",{type:"text",name:"url",placeholder:"Url",value:h.url,onChange:j})]})]}),(0,l.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:f}),(0,l.jsx)("input",{type:"button",name:"next",className:"next action-button",value:"Next",onClick:g})]}),3===s&&(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("h2",{className:"fs-title",children:"Profile Picture"}),(0,l.jsx)("h3",{className:"fs-subtitle",children:"Upload your profile picture"}),(0,l.jsxs)("div",{className:"profile-picture-container",children:[(0,l.jsx)("input",{type:"file",name:"profilePicture",id:"profilePictureInput",accept:"image/*",onChange:e=>{const a=e.target.files[0];a?(d(a.name),p((e=>({...e,profilePicture:a})))):d("Background Image")},className:"file-input"}),(0,l.jsx)("label",{htmlFor:"profilePictureInput",className:"file-label",children:o})]}),(0,l.jsxs)("div",{className:"profile-picture-container",children:[(0,l.jsx)("input",{type:"file",name:"background_image",id:"backgroundImageInput",accept:"image/*",onChange:e=>{const a=e.target.files[0];a?(u(a.name),p((e=>({...e,background_image:a})))):u("Background Image")},className:"file-input"}),(0,l.jsx)("label",{htmlFor:"backgroundImageInput",className:"file-label",children:m})]}),(0,l.jsx)("input",{type:"button",name:"previous",className:"previous action-button",value:"Previous",onClick:f}),(0,l.jsx)("input",{type:"submit",name:"submit",className:"submit action-button",value:"Submit"})]})]})]})})}},4570:(e,a,s)=>{s.r(a),s.d(a,{Dashboard:()=>u,default:()=>h});var n=s(2791),c=s(7689),t=s(5294),i=s(175),l=s(184);const r=function(e){let{user_id:a,contact_id:s,name:n,company:c,email:t,message:i,contact_date:r}=e;const o=window.innerWidth<=1e3;return(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"contacts",children:(0,l.jsxs)("div",{className:"contact",children:[!o&&(0,l.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/profile_2.png?v=1712073839"}),o&&(0,l.jsxs)("div",{children:[(0,l.jsx)("dt",{children:"Contact Date"}),(0,l.jsx)("dd",{children:r})]}),(0,l.jsxs)("dl",{className:"contact-details",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("dt",{children:[n,", ",c]})}),(0,l.jsx)("div",{children:(0,l.jsx)("dd",{children:t})}),!o&&(0,l.jsx)("div",{children:(0,l.jsx)("dd",{children:r})}),(0,l.jsx)("div",{className:"contact-message ".concat(o?"full-width-message":""),children:(0,l.jsx)("dt",{children:i})})]})]})})})};var o=s(8329);const d=e=>{let{contactData:a}=e;const s=window.innerWidth<=1e3,t=(0,c.s0)(),[i,d]=(0,n.useState)(0),m=a?a.length:0;return(0,n.useEffect)((()=>{a&&a.length>0&&d(a[0].user_id)}),[a]),(0,n.useEffect)((()=>{o.Z.get("session_token")||t("/login")}),[t]),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"overview",children:(0,l.jsxs)("div",{className:"overview-body",children:[(0,l.jsx)("div",{className:"overview-body-navigation"}),(0,l.jsx)("div",{className:"overview-body-main-content",children:(0,l.jsxs)("section",{className:"contact-section",children:[s&&(0,l.jsxs)("div",{className:"gen-leads",children:[(0,l.jsx)("h2",{children:"GENERATED LEADS: "}),(0,l.jsx)("div",{className:"contact-counter",children:m})]}),(0,l.jsx)("div",{className:"contact-section-header",children:(0,l.jsx)("h2",{children:"Latest Leads"})}),(0,l.jsxs)("div",{className:"contact-description",children:[(0,l.jsx)("h1",{children:"Information"}),(0,l.jsx)("h1",{children:"Email"}),(0,l.jsx)("h1",{children:"Contact Date"}),(0,l.jsx)("h1",{children:"Email"})]}),a?a.map((e=>(0,l.jsx)(r,{name:e.name,email:e.email,company:e.company,contact_date:e.contact_date,message:e.message},e.contact_id))):(0,l.jsx)("p",{children:"Loading..."})]})}),(0,l.jsx)("div",{className:"overview-body-sidebar",children:(0,l.jsxs)("section",{className:"payment-section",children:[!s&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"GENERATED LEADS: "}),(0,l.jsx)("div",{className:"contact-counter",children:m})]}),(0,l.jsx)("div",{className:"payment-section-header"})]})})]})})})};var m=s(7361);function u(e){var a,s;const{id:r}=(0,c.UO)(),[u,h]=(0,n.useState)("overview"),[p,v]=(0,n.useState)(null),x=(0,c.s0)(),j=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{r&&!j.current&&(console.log("making request"),(async()=>{try{var e,a;if(!o.Z.get("session_token"))return void x("/login");const s=await t.Z.get("https://".concat("app.bravanfc.com","/api/").concat(r,"/dashboard"),{withCredentials:!0});v(s.data),localStorage.setItem("profile_image_url",null===(e=p[0])||void 0===e?void 0:e.profile_image_url),localStorage.setItem("username",null===(a=p[0])||void 0===a?void 0:a.username),j.current=!0}catch(s){console.log("Error fetching data:",s)}})())}),[r,x]),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Z,{header_username:p?null===(a=p[0])||void 0===a?void 0:a.username:"",profile_picture:p?null===(s=p[0])||void 0===s?void 0:s.profile_image_url:"",activeTab:u,onTabClick:e=>{h(e)}}),(0,l.jsxs)("div",{className:"dashboard-body",children:["overview"===u&&(0,l.jsx)(d,{contactData:p}),"cards"===u&&(0,l.jsx)(m.default,{contactData:p})]})]})}const h=u}}]);
//# sourceMappingURL=761.fa294bd9.chunk.js.map