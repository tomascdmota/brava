"use strict";(self.webpackChunkbrava=self.webpackChunkbrava||[]).push([[570],{175:(e,s,a)=>{a.d(s,{Z:()=>r});var c=a(2791),n=a(8008),i=a(7689),d=a(9823),t=a(184);const r=function(e){const{activeTab:s,onTabClick:a}=e,{id:r}=(0,i.UO)(),[o,l]=(0,c.useState)(!1),h=window.innerWidth<=1e3,v=(0,c.useRef)(null);(0,c.useEffect)((()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&l(!1)},s=e=>{e.changedTouches[0].clientX-e.changedTouches[e.changedTouches.length-1].clientX>50&&l(!1)};return document.addEventListener("click",e),document.addEventListener("touchend",s),()=>{document.removeEventListener("click",e),document.removeEventListener("touchend",s)}}),[]);const m=()=>{l(!o)};return(0,t.jsx)("div",{className:"header-container",children:(0,t.jsxs)("header",{className:"dashboard-header ".concat(o?"menu-open":""),children:[(0,t.jsx)("div",{className:"dashboard-header-logo",children:(0,t.jsxs)("div",{className:"dashboard-logo",children:[(0,t.jsx)("span",{className:"dashboard-logo-icon",children:(0,t.jsx)("img",{src:"https://res.cloudinary.com/dnho57ne8/image/upload/v1699913993/brava_fqk4h4.png",alt:"Logo"})}),(0,t.jsx)("h1",{className:"logo-title",children:"Brava"})]})}),(0,t.jsx)("div",{className:"dashboard-header-navigation",children:(0,t.jsxs)("div",{className:"tabs",children:[(0,t.jsx)("a",{onClick:()=>a("overview"),href:"/".concat(r,"/dashboard/overview"),className:"overview"===s?"active":"",children:"Overview"}),(0,t.jsx)("a",{onClick:()=>a("cards"),href:"/".concat(r,"/dashboard/cards"),className:"cards"===s?"active":"",children:"Cards"}),(0,t.jsx)("a",{onClick:()=>a("account"),href:"/".concat(r,"/dashboard/account"),className:"account"===s?"active":"",children:"Account"})]})}),(0,t.jsx)("div",{className:"dashboard-header-actions",children:(0,t.jsxs)("button",{className:"user-profile",children:[(0,t.jsx)("span",{children:e.username}),(0,t.jsx)("span",{})]})}),h&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"dashboard-header-mobile",children:(0,t.jsx)(n.Z,{onClick:m})}),(0,t.jsxs)("div",{className:"mobile-menu ".concat(o?"open":""),children:[o&&(0,t.jsx)(d.Z,{onClick:m}),(0,t.jsx)("a",{onClick:()=>a("overview"),href:"/".concat(r,"/dashboard/overview"),className:"overview"===s?"active":"",children:"Overview"}),(0,t.jsx)("a",{onClick:()=>a("profiles"),href:"/".concat(r,"/dashboard/profiles"),className:"profiles"===s?"active":"",children:"Profiles"}),(0,t.jsx)("a",{onClick:()=>a("cards"),href:"/".concat(r,"/dashboard/cards"),className:"cards"===s?"active":"",children:"Cards"}),(0,t.jsx)("a",{onClick:()=>a("account"),href:"/".concat(r,"/dashboard/account"),className:"account"===s?"active":"",children:"Account"})]})]})]})})}},4570:(e,s,a)=>{a.r(s),a.d(s,{Dashboard:()=>h,default:()=>v});var c=a(2791),n=a(7689),i=a(5294),d=a(175),t=a(184);const r=function(e){let{user_id:s,contact_id:a,name:c,company:n,email:i,message:d,contact_date:r}=e;const o=window.innerWidth<=1e3;return(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"contacts",children:(0,t.jsxs)("div",{className:"contact",children:[!o&&(0,t.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0733/7767/7577/files/profile_2.png?v=1712073839"}),o&&(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{children:"Contact Date"}),(0,t.jsx)("dd",{children:r})]}),(0,t.jsxs)("dl",{className:"contact-details",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("dt",{children:[c,", ",n]})}),(0,t.jsx)("div",{children:(0,t.jsx)("dd",{children:i})}),!o&&(0,t.jsx)("div",{children:(0,t.jsx)("dd",{children:r})}),(0,t.jsx)("div",{className:"contact-message ".concat(o?"full-width-message":""),children:(0,t.jsx)("dt",{children:d})})]})]})})})};var o=a(8329);const l=e=>{let{contactData:s}=e;const a=window.innerWidth<=1e3,i=(0,n.s0)(),[d,l]=(0,c.useState)(0),h=s?s.length:0;return(0,c.useEffect)((()=>{s&&s.length>0&&l(s[0].user_id)}),[s]),(0,c.useEffect)((()=>{o.Z.get("session_token")||i("/login")}),[i]),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"overview",children:(0,t.jsxs)("div",{className:"overview-body",children:[(0,t.jsx)("div",{className:"overview-body-navigation"}),(0,t.jsx)("div",{className:"overview-body-main-content",children:(0,t.jsxs)("section",{className:"contact-section",children:[a&&(0,t.jsxs)("div",{className:"gen-leads",children:[(0,t.jsx)("h2",{children:"GENERATED LEADS: "}),(0,t.jsx)("div",{className:"contact-counter",children:h})]}),(0,t.jsx)("div",{className:"contact-section-header",children:(0,t.jsx)("h2",{children:"Latest Leads"})}),(0,t.jsxs)("div",{className:"contact-description",children:[(0,t.jsx)("h1",{children:"Information"}),(0,t.jsx)("h1",{children:"Email"}),(0,t.jsx)("h1",{children:"Contact Date"}),(0,t.jsx)("h1",{children:"Email"})]}),s?s.map((e=>(0,t.jsx)(r,{name:e.name,email:e.email,company:e.company,contact_date:e.contact_date,message:e.message},e.contact_id))):(0,t.jsx)("p",{children:"Loading..."})]})}),(0,t.jsx)("div",{className:"overview-body-sidebar",children:(0,t.jsxs)("section",{className:"payment-section",children:[!a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"GENERATED LEADS: "}),(0,t.jsx)("div",{className:"contact-counter",children:h})]}),(0,t.jsx)("div",{className:"payment-section-header"})]})})]})})})};function h(){const{id:e}=(0,n.UO)(),[s,a]=(0,c.useState)("overview"),[r,h]=(0,c.useState)(null),v=(0,n.s0)(),m=(0,c.useRef)(!1);console.log("Dashboard component rendered");return(0,c.useEffect)((()=>{e&&!m.current&&(console.log("making request"),(async()=>{try{if(!o.Z.get("session_token"))return void v("/login");const s=await i.Z.get("https://".concat("app.bravanfc.com","/api/").concat(e,"/dashboard"),{withCredentials:!0});h(s.data),m.current=!0}catch(s){console.log("Error fetching data:",s)}})())}),[e,v]),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{username:r?r.username:"",activeTab:s,onTabClick:e=>{a(e)}}),(0,t.jsx)("div",{className:"dashboard-body",children:"overview"===s&&(0,t.jsx)(l,{contactData:r})})]})}const v=h}}]);
//# sourceMappingURL=570.d88547a2.chunk.js.map