{"version":3,"file":"static/js/361.92926f6b.chunk.js","mappings":"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","sources":["pages/Dashboard/Cards/Cards.js","pages/Dashboard/Components/Header.js","../node_modules/js-cookie/dist/js.cookie.mjs"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router';\r\nimport axios from 'axios';\r\nimport Cookie from 'js-cookie';\r\nimport './Cards.scss';\r\nimport Header from '../Components/Header';\r\nimport CardComponent from '../../Card/CardComponent/CardComponent';\r\nimport CreateCard from '../CreateCard/CreateCard';\r\n\r\nfunction Cards() {\r\n  const { id: userId } = useParams();\r\n  const [userData, setUserData] = useState(null); // Initialize as null\r\n  const [cards, setCards] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submissionSuccess, setSubmissionSuccess]= useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Check if the session_token cookie exists\r\n    const sessionToken = Cookie.get('session_token');\r\n\r\n    if (!sessionToken) {\r\n      // Redirect to the login page if the cookie does not exist\r\n      navigate('/login');\r\n    }\r\n  }, [navigate]);\r\n  \r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://${process.env.REACT_APP_HOST}/api/${userId}/dashboard/cards`, { withCredentials: true })\r\n      .then((response) => {\r\n        setUserData(response.data);\r\n        setCards(response.data.cards);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching cards:', error);\r\n        if (error.response && error.response.status === 400) {\r\n          // If the response status is 400, render the CreateCard component\r\n          setUserData({}); // Set userData to an empty object to trigger rendering of CreateCard\r\n          setLoading(false); // Set loading to false to stop spinner\r\n        } else {\r\n          // Handle other errors here\r\n          setLoading(false); // Set loading to false to stop spinner\r\n        }\r\n        \r\n      })\r\n      .finally(() => {\r\n        setLoading(false); // Set loading to false regardless of success or failure\r\n      });\r\n  }, [userId, submissionSuccess]);\r\n\r\n  if (userData === null) {\r\n    // Check for userData to be null instead of !userData\r\n    return (\r\n      <div className=\"cards-container\">\r\n        {loading && <div className=\"spinner-container\"><div className=\"spinner\"></div></div>}\r\n        <div className=\"nav-tiles\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"cards-container\">\r\n      {loading && <div className=\"spinner-container\"><div className=\"spinner\"></div></div>}\r\n      {Object.keys(userData).length === 0 ? <CreateCard setSubmissionSuccess={setSubmissionSuccess} /> : null}\r\n      <div className=\"nav-tiles\">\r\n        <div className=\"tiles\">\r\n          {!loading &&\r\n            cards.map((card) => <CardComponent key={card.card_id} {...card} />)\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cards;\r\n","  import React, { useEffect, useState, useRef } from 'react';\r\n  import './Header.scss';\r\n  import MenuIcon from '@mui/icons-material/Menu';\r\n  import { useParams, useNavigate } from 'react-router-dom';\r\n  import CloseIcon from '@mui/icons-material/Close';\r\n\r\n  function Header(props, event) {\r\n    const { activeTab } = props;\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [isMenuOpen, setMenuOpen] = useState(false);\r\n    const isMobile = window.innerWidth <= 1000;\r\n    const menuRef = useRef(null);\r\n    const username = localStorage.getItem('username');\r\n    const profile_picture = localStorage.getItem('profile_image_url');\r\n\r\n    useEffect(() => {\r\n      const handleOutsideClick = (event) => {\r\n        if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n          setMenuOpen(false);\r\n        }\r\n      };\r\n\r\n      const handleSwipe = (event) => {\r\n        const startX = event.changedTouches[0].clientX;\r\n        const endX = event.changedTouches[event.changedTouches.length - 1].clientX;\r\n\r\n        if (startX - endX > 50) {\r\n          // Swipe left (closing the menu)\r\n          setMenuOpen(false);\r\n        }\r\n      };\r\n\r\n      document.addEventListener('click', handleOutsideClick);\r\n      document.addEventListener('touchend', handleSwipe);\r\n\r\n      return () => {\r\n        document.removeEventListener('click', handleOutsideClick);\r\n        document.removeEventListener('touchend', handleSwipe);\r\n      };\r\n    }, []);\r\n\r\n    const handleMenuClick = () => {\r\n      setMenuOpen(!isMenuOpen);\r\n    };\r\n\r\n    function handleTabClick (tab) {\r\n      setMenuOpen(false);\r\n      navigate(`/${id}/dashboard/${tab}`);\r\n    };\r\n\r\n    return (\r\n      <div className=\"header-container\">\r\n        <header className={`dashboard-header ${isMenuOpen ? 'menu-open' : ''}`}>\r\n          <div className=\"dashboard-header-logo\">\r\n            <div className=\"dashboard-logo\">\r\n              \r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"dashboard-header-actions\">\r\n            <button onClick={() => handleTabClick('account')} className=\"user-profile\">\r\n              <span>{username}</span>\r\n              <span>\r\n                <img src={profile_picture} alt=\"User Avatar\" />\r\n              </span>\r\n            </button>\r\n          </div>\r\n         \r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Header;\r\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n"],"names":["id","userId","useParams","userData","setUserData","useState","cards","setCards","loading","setLoading","submissionSuccess","setSubmissionSuccess","navigate","useNavigate","useEffect","Cookie","get","axios","concat","process","withCredentials","then","response","data","catch","error","console","status","finally","_jsxs","className","children","_jsx","Object","keys","length","CreateCard","map","card","CardComponent","card_id","props","event","activeTab","isMenuOpen","setMenuOpen","menuRef","window","innerWidth","useRef","username","localStorage","getItem","profile_picture","handleOutsideClick","current","contains","target","handleSwipe","changedTouches","clientX","document","addEventListener","removeEventListener","onClick","handleTabClick","tab","src","alt","assign","i","arguments","source","key","api","init","converter","defaultAttributes","set","name","value","attributes","expires","Date","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","create","cookies","jar","parts","slice","join","found","read","e","remove","withAttributes","this","withConverter","freeze","path"],"sourceRoot":""}